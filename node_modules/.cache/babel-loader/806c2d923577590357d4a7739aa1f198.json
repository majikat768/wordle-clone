{"ast":null,"code":"var _jsxFileName = \"/var/www/micatk/wordle-solver/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Board from './Board';\nimport Keyboard from './Keyboard';\nimport './app.css';\nimport { wordlist } from './words';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/React.createContext();\n\nfunction get_random_word() {\n  return wordlist[Math.floor(Math.random() * wordlist.length)].toUpperCase();\n}\n\nfunction isalpha(c) {\n  if (c.length > 1) return false;\n  let val = c.toUpperCase().charCodeAt();\n  return val >= 65 && val <= 90;\n}\n\nconst board = [['', '', '', '', ''], ['', '', '', '', ''], ['', '', '', '', ''], ['', '', '', '', ''], ['', '', '', '', ''], ['', '', '', '', '']];\nconst word = get_random_word(); //const word = \"DOTTY\"\n\nconsole.log(word);\nvar disabled_letters = [];\n\nfunction disable_letters(word) {\n  for (let i = 0; i < word.length; i += 1) {\n    if (!disabled_letters.includes(word[i])) {\n      disabled_letters.push(word[i]);\n    }\n  }\n}\n\nvar gameover = false;\n\nfunction App() {\n  _s();\n\n  const [attempt, SetAttempt] = useState(0);\n  const [letter, SetLetter] = useState(0);\n\n  const HandleKey = function (key) {\n    if (key === 'Delete' || key === 'BACKSPACE') {\n      if (letter > 0) {\n        board[attempt][letter - 1] = '';\n        SetLetter(letter - 1);\n      }\n    } else if (key === 'Enter' || key === 'ENTER') {\n      if (letter < 5) {\n        console.log('more letters plz');\n      } else {\n        disable_letters(board[attempt]);\n        SetLetter(0);\n        SetAttempt(attempt + 1);\n      }\n    } else if (!isalpha(key)) {\n      return;\n    } else {\n      if (letter < 5) {\n        board[attempt][letter] = key;\n        SetLetter(letter + 1);\n        return;\n      }\n    }\n  };\n\n  useEffect(function () {\n    function listener(e) {\n      if (gameover) return;\n      HandleKey(e.key.toUpperCase());\n    }\n\n    document.addEventListener(\"keydown\", listener);\n    return function cleanup() {\n      document.removeEventListener('keydown', listener);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      board,\n      attempt,\n      word,\n      HandleKey,\n      disabled_letters\n    },\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Keyboard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"V7eG0uoRXfnB0elp857sI9fB2G0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Board","Keyboard","wordlist","React","useEffect","useState","AppContext","createContext","get_random_word","Math","floor","random","length","toUpperCase","isalpha","c","val","charCodeAt","board","word","console","log","disabled_letters","disable_letters","i","includes","push","gameover","App","attempt","SetAttempt","letter","SetLetter","HandleKey","key","listener","e","document","addEventListener","cleanup","removeEventListener"],"sources":["/var/www/micatk/wordle-solver/src/App.js"],"sourcesContent":["import Board from './Board'\nimport Keyboard from './Keyboard'\nimport './app.css'\nimport { wordlist } from './words';\nimport React, { useEffect, useState } from 'react';\n\nexport const AppContext = React.createContext();\n\nfunction get_random_word() {\n  return wordlist[Math.floor(Math.random()*wordlist.length)].toUpperCase();\n}\n\nfunction isalpha(c) {\n  if(c.length > 1)  return false;\n  let val = c.toUpperCase().charCodeAt();\n  return val >= 65 && val <= 90;\n}\n\nconst board = [\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n]\n\nconst word = get_random_word();\n//const word = \"DOTTY\"\nconsole.log(word)\n\nvar disabled_letters = [];\nfunction disable_letters(word) {\n  for(let i = 0; i < word.length; i += 1) {\n    if(!disabled_letters.includes(word[i])) {\n      disabled_letters.push(word[i]);\n    }\n  }\n}\n\nvar gameover = false;\n\nfunction App() {\n  const [attempt, SetAttempt] = useState(0);\n  const [letter, SetLetter] = useState(0);\n\n  const HandleKey = function (key) {\n    if (key === 'Delete' || key === 'BACKSPACE') {\n      if (letter > 0) {\n        board[attempt][letter - 1] = '';\n        SetLetter(letter - 1)\n      }\n    }\n    else if (key === 'Enter' || key === 'ENTER') {\n      if (letter < 5) {\n        console.log('more letters plz')\n      }\n      else {\n        disable_letters(board[attempt])\n        SetLetter(0);\n        SetAttempt(attempt + 1);\n      }\n    }\n\n    else if(!isalpha(key)) {\n      return\n    }\n\n    else {\n      if (letter < 5) {\n        board[attempt][letter] = key;\n        SetLetter(letter + 1);\n        return;\n      }\n    }\n  }\n\n\n  useEffect(function () {\n    function listener(e) {\n      if(gameover)  return\n      HandleKey(e.key.toUpperCase());\n    }\n\n    document.addEventListener(\"keydown\", listener);\n    return function cleanup() {\n      document.removeEventListener('keydown',listener);\n    }\n  })\n  return (\n    <AppContext.Provider value={{\n      board,\n      attempt,\n      word,\n      HandleKey,\n      disabled_letters\n    }}>\n      <>\n        <Board />\n        <Keyboard />\n      </>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}