{"ast":null,"code":"import _slicedToArray from\"/var/www/micatk/wordle-solver/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Board from'./Board';import Keyboard from'./Keyboard';import'./app.css';import{wordlist}from'./smallwords';import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AppContext=/*#__PURE__*/React.createContext();function get_random_word(){return wordlist[Math.floor(Math.random()*wordlist.length)].toUpperCase();}function isalpha(c){if(c.length>1)return false;var val=c.toUpperCase().charCodeAt();return val>=65&&val<=90;}var board=[['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];var word=get_random_word();//const word = \"DOTTY\"\nconsole.log(word);var disabled_letters=[];function disable_letters(word){for(var i=0;i<word.length;i+=1){if(!disabled_letters.includes(word[i])){disabled_letters.push(word[i]);}}}var gameover=false;function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),attempt=_useState2[0],SetAttempt=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),letter=_useState4[0],SetLetter=_useState4[1];var HandleKey=function HandleKey(key){if(gameover)return;if(key==='Delete'||key==='BACKSPACE'){if(letter>0){board[attempt][letter-1]='';SetLetter(letter-1);}}else if(key==='Enter'||key==='ENTER'){console.log(attempt);if(letter<5){console.log('more letters plz');}else{if(board[attempt].join('')===word){gameover=true;document.getElementById('answer').style.display='flex';console.log('gameover');}disable_letters(board[attempt]);SetLetter(0);SetAttempt(attempt+1);console.log(attempt);if(attempt===5){gameover=true;document.getElementById('answer').style.display='flex';console.log('gameover');return;}}}else if(!isalpha(key)){return;}else{if(letter<5){board[attempt][letter]=key;SetLetter(letter+1);return;}}};useEffect(function(){function listener(e){HandleKey(e.key.toUpperCase());}document.addEventListener(\"keydown\",listener);return function cleanup(){document.removeEventListener('keydown',listener);};});return/*#__PURE__*/_jsx(AppContext.Provider,{value:{board:board,attempt:attempt,word:word,HandleKey:HandleKey,disabled_letters:disabled_letters,gameover:gameover},children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Board,{}),/*#__PURE__*/_jsx(\"div\",{id:\"answer_container\"}),/*#__PURE__*/_jsx(\"div\",{id:\"answer\",children:word}),/*#__PURE__*/_jsx(Keyboard,{})]})});}export default App;","map":{"version":3,"names":["Board","Keyboard","wordlist","React","useEffect","useState","AppContext","createContext","get_random_word","Math","floor","random","length","toUpperCase","isalpha","c","val","charCodeAt","board","word","console","log","disabled_letters","disable_letters","i","includes","push","gameover","App","attempt","SetAttempt","letter","SetLetter","HandleKey","key","join","document","getElementById","style","display","listener","e","addEventListener","cleanup","removeEventListener"],"sources":["/var/www/micatk/wordle-solver/src/App.js"],"sourcesContent":["import Board from './Board'\nimport Keyboard from './Keyboard'\nimport './app.css'\nimport { wordlist } from './smallwords';\nimport React, { useEffect, useState } from 'react';\n\nexport const AppContext = React.createContext();\n\nfunction get_random_word() {\n  return wordlist[Math.floor(Math.random()*wordlist.length)].toUpperCase();\n}\n\nfunction isalpha(c) {\n  if(c.length > 1)  return false;\n  let val = c.toUpperCase().charCodeAt();\n  return val >= 65 && val <= 90;\n}\n\nconst board = [\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n  ['', '', '', '', ''],\n]\n\nconst word = get_random_word();\n//const word = \"DOTTY\"\nconsole.log(word)\n\nvar disabled_letters = [];\nfunction disable_letters(word) {\n  for(let i = 0; i < word.length; i += 1) {\n    if(!disabled_letters.includes(word[i])) {\n      disabled_letters.push(word[i]);\n    }\n  }\n}\n\nvar gameover = false;\n\nfunction App() {\n  const [attempt, SetAttempt] = useState(0);\n  const [letter, SetLetter] = useState(0);\n\n  const HandleKey = function (key) {\n    if(gameover)  return;\n    if (key === 'Delete' || key === 'BACKSPACE') {\n      if (letter > 0) {\n        board[attempt][letter - 1] = '';\n        SetLetter(letter - 1)\n      }\n    }\n    else if (key === 'Enter' || key === 'ENTER') {\n      console.log(attempt)\n      if (letter < 5) {\n        console.log('more letters plz')\n      }\n      else {\n        if(board[attempt].join('') === word) {\n          gameover = true;\n          document.getElementById('answer').style.display = 'flex';\n          console.log('gameover')\n        }\n        disable_letters(board[attempt])\n        SetLetter(0);\n        SetAttempt(attempt + 1);\n        console.log(attempt)\n        if(attempt === 5) {\n          gameover = true;\n          document.getElementById('answer').style.display = 'flex';\n          console.log('gameover')\n          return;\n        }\n      }\n    }\n\n    else if(!isalpha(key)) {\n      return\n    }\n\n    else {\n      if (letter < 5) {\n        board[attempt][letter] = key;\n        SetLetter(letter + 1);\n        return;\n      }\n    }\n  }\n\n\n  useEffect(function () {\n    function listener(e) {\n      HandleKey(e.key.toUpperCase());\n    }\n\n    document.addEventListener(\"keydown\", listener);\n    return function cleanup() {\n      document.removeEventListener('keydown',listener);\n    }\n  })\n  return (\n    <AppContext.Provider value={{\n      board,\n      attempt,\n      word,\n      HandleKey,\n      disabled_letters,\n      gameover\n    }}>\n      <>\n        <Board />\n        <div id='answer_container'></div>\n        <div id='answer'>{word}</div>\n        <Keyboard />\n      </>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}